<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <title>Main Page</title>
  <script src="/resources/script/jquery-1.11.2.min.js" type="text/javascript"></script>
  <script src="/resources/script/bootstrap.min.js" type="text/javascript"></script>
  <link href="/resources/css/main.css" rel="stylesheet" type=text/css>
  <link href="/resources/css/cart.css" rel="stylesheet" type=text/css>
  <link href="/resources/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <script src="http://use.edgefonts.net/clara:n4:default.js" type="text/javascript"></script>

</head>

<body>
	<div id="wrapper">
		<div id="header" th:include="navigation :: navigation"></div>
		<main>

<div id="main-wrapper">
	<table th:unless ="${cart.empty}">
		<thead>
			<tr>
				<th></th>
				<th>Name</th>
				<th>Anzahl</th>
				<th>Preis</th>
				<th>Anzahl ändern</th>
				<th>Entfernen</th>
			</tr>
		</thead>
		<tbody th:remove="all-but-first">
			<tr th:each="item : ${cart} ">
				<td><input type="checkbox"/></td>
				<td th:text="${item.productName}">Name</td>
				<td th:text="${item.quantity}">Anzahl</td>
				<td th:text="${item.price}">Preis</td>
				<td>
					<form action="changeAmount" method="post">
						<input type ="hidden" name="cid" th:value="${item.identifier}" />	
  						<select name="amount" id ="dropdown" size="1">
  							<option>1</option>
  							<option>2</option>
  							<option>3</option>
  							<option>4</option>
  							<option>5</option>
  						</select>
						<input type="submit" value="Anzahl ändern" />
					</form>
				</td>
				<td>
					<form action="deleteItem" method="post">
						<input type ="hidden" name="cid" th:value="${item.identifier}" />
						<input type="submit" value="Artikel entfernen" />
					</form>
				</td>
			</tr>
		</tbody>
	</table>
	<br/>
	<div th:text="'Summe: ' + ${cart.price}">Summe</div>
	<div th:if ="${cart.empty}">Leer</div>
	<br/>
	<div>
		<form class="form" method="post" action="checkout" sec:authorize="hasRole('ROLE_CUSTOMER')" >
			<input type="submit" value="Kaufen" />
		</form>
	</div>
	
	<div>
		<form class="form" method="post" action="pay">
			<input type="submit" th:value="Bezahlen" value="kaufen" />
		</form>
	</div>
	<div>
		<form class="form" action="clearCart" method ="post">
			<input type="submit" value="Warenkorb leeren" />
		</form>
	</div>
</div>
		</main>
		<div id="footer" th:include="footer :: footer"></div>
	</div>
</body>
</html>
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>

<meta charset="utf-8">
<title>Main Page</title>
<script src="/resources/script/jquery-1.11.2.min.js"
	type="text/javascript"></script>
<link href="/resources/css/main.css" rel="stylesheet" type=text/css>
<link href="/resources/css/catalog.css" rel="stylesheet" type=text/css>
<script src="http://use.edgefonts.net/clara:n4:default.js"
	type="text/javascript"></script>
<script
	src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"
	type="text/javascript"></script>
<script src="/resources/script/pagenumber.js" type="text/javascript"></script>


</head>

<body>
	<div id="wrapper">

		<div id="header" th:include="navigation :: navigation"></div>
		<main>
		<div id="mainframe">
			<div id="topLine">
				<div id="path">
					<a th:if="${category != null}"
						th:text="@{'Kategorie'+ ' > ' +${category}}">Home &gt;</a> <a
						th:if="${category == null}" th:text="@{'Suche'+ ' > ' +${search}}">Home
						&gt;</a>
				</div>
				<div id="articlesPerPage">
					<form method="post" th:if="${split != null}"
						th:action="@{'/catalog/'+${category}+'/'+${split}+'/'+${number}+'/changedSetting'}">
						<fieldset>
							<label for="total">Artikel pro Seite:</label> <select
								onchange="this.form.submit()" name="total" id="total"
								th:value="(${split} < ${maximum} ? ${split} : ${maximum})">
								<option th:each="number : ${quantities}" th:text="${number}"
									th:value="${number}"></option>
							</select>
						</fieldset>
					</form>
				</div>
			</div>

			<div id="workframe">
				<!-- <div id="catalognavigaton">
					<a th:each="category: ${allCategory}"
						th:href="@{'/catalog/'+${category}}">
						<h1 th:text="${category}"></h1>
					</a>
				</div> -->
				<div id="catalogview">

					<ul id="articlelist">

						<li class="article" th:each="concreteproduct : ${prods}"><a
							th:href="@{'/detail/'+${concreteproduct.identifier}}">
								<h1 th:text="${concreteproduct.name}" class="name"></h1>
						</a>
							<div class="flex-container">
								<div id="firstcolumn">
									<img class="picture"
										th:href="@{'/detail/'+${concreteproduct.identifier}}"
										th:src="@{'/resources/Bilder/' + ${concreteproduct.imagefile}}"
										width="150" />
								</div>
								<div id="secondcolumn">
									<p class="description" th:text="${concreteproduct.description}">Beschreibung</p>
									<a th:href="@{'/detail/'+${concreteproduct.identifier}}">Details</a>
									<div class="rating">
										<!-- <span th:each="i : ${#numbers.sequence( 1, 3)}">☆</span> -->
										<span class="filled" th:each="i : ${concreteproduct.rating}">☆</span>
										<!--									<span class="filled" th:each="i : ${#numbers.sequence( 1, i)}">☆</span>//, th:value=${concreteproduct.rating}>☆</span>   -->
									</div>
									<a th:text="${concreteproduct.ratings}+' Bewertung(en)'"></a>
								</div>
							</div>
							<p class="price" th:text="${concreteproduct.price}" /></li>
					</ul>

				</div>
			</div>
			<table id="pageControl">
				<tr>
					<td valign="middle" th:each="number:${numbers}">
						<a class="articlePages" th:if="${category == null}"	th:text="${number}" th:href="@{'/sufu/'+${search}+'/'+${number}}"></a>
						<a class="articlePages" th:if="${category != null}"	th:text="${number}" th:href="@{'/catalog/'+${category}+'/'+${split}+'/'+${number}}"></a>
					</td>
				<tr>
				</tr>
			</table>

		</div>

		</main>
		<div id="footer" th:include="footer :: footer"></div>
	</div>
</body>
</html>

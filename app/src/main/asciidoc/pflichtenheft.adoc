:imagesdir: ./Bilder

= Pflichtenheft

== Projektname

__Version:__    *0.1.2*

__Status:__     *In Arbeit*

__Stand:__      *1.11.2015*

== Zusammenfassung
Das vorliegende Dokument enthält einen Plan zur Erstellung eines Internet-Einkaufsdienstes für das Warenhaus "Emma".
Neben den geforderten Funktionalitäten und Nutzerrollen, werden Programmabläufe und -strukturen visuell und textuell dargestellt. Auch ein GUI-Prototyp für die Web-Oberfläche liegt bei.

== Inhaltsverzeichnis

== Aufgabenstellung und Zielsetzung
Software für Onlineshop erstellen, mitunter Kundenlogin, Katalogverwaltung, Personalverwaltung, Lagerbestandsübersicht, Rabattsystem, Retourensystem, Gewinnspiel, Bilanzübersicht und Newsletter einfügen. Die Benutzer sind aufgeteilt in Gäste, Kunden, Mitarbeiter und Administratoren.

Text aus Aufgabenstellung kopieren und ggfs. präzisieren.

== Fachlicher Überblick
Im folgenden Kapitel werden Arbeitsabläufe und Attribute von Programm-Modulen erläutert. Die verschiedenen Nutzerrollen werden erklärt.
Im Pflichtenheft befinden sich die vertraglich Vereinbarten Funktionalitäten.

== Systemgrenze und Top-Level-Architektur

=== Kontextdiagramm
image::Component_Diagram__Kontextdiagramm.png[Kontextdiagramm]

=== Top-level architecture
image::Top-Level-Architecture_Diagramm.png[Top Level Architecture Diagramm]

== Anwendungsfälle

=== Überblick Anwendungsfalldiagramm

image::Use-Case-Diagramm.png[Use Case Diagramm]

// See http://asciidoctor.org/docs/user-manual/#tables
[options="header"]
|===
|Name |Beschreibung 
|Gast  |Gäste sind Nutzer, die noch kein Konto erstellt haben. Kann Artikel sehen und im Warenkorb ablegen, Newsletter abonnieren/abbestellen, sich anmelden/registrieren. 
|Kunde  |Kunde ist eingeloggt, dh hat sich ein Konto erstellt. Hat alle Rechte von "Gast", kann darüber hinaus noch Einkaufen, Retourfunktionen nutzen, Bewerten/Kommentieren, Profildaten ändern, Kunden werben.  
|Mitarbeiter  |Mitarbeiter kann Kommentare zensieren, Lagerbestand überprüfen, Sortiment einkaufen, Katalog bearbeiten. 
|Administrator  |Administrator hat alle Rechte von "Mitarbeiter", kann Personal/Benutzerkonten verwalten, Bilanzen einsehen, Gewinnspiel auslösen. 
|===

=== Anwendungsfallbeschreibungen

Die Anwendungen, welche im Use-Case-Diagramm dargestellt sind teilen sich in vier Gruppen nach den Akteuren ein. Diese sind Gast, Kunde, Mitarbeiter und Administrator. Der Kunde erbt dabei vom Gast und der Administrator vom Mitarbeiter. 
Der Gast (ein Verbraucher ohne Login) hat die Möglichkeit den gesamten Katalog mit allen Artikeln einzusehen. Er kann Artikel in den Warenkorb legen, damit aber nicht zur Kasse gehen. Weiterhin kann er den Newsletter bestellen oder abbestellen. Letzendlich kann er sich registrieren und damit zum Kunden werden. Dieser hat darüber hinaus die Möglichkeit Artikel zu kaufen und zurückzugeben. Er kann Bewertungen abgeben, andere Kunden werben und seine Profildaten ändern. Dies gilt auch und insbesondere für das Passwort, welches dazu noch über eine Passwort-vergessen-Option geändert werden kann.
Der Mitarbeiter erledigt die wichtigsten Aufgaben im Backend. Er ist für die Pflege und Bearbeitung des Katalogs zuständig. In diesem Zusammenhang kann er auch den Lagerbestand der Artikel prüfen und diese auch nach- oder neubestellen. Dies gilt insbesondere für Artikel mit niedrigem Warenbestand. Zuletzt kann er auch Bewertungen löschen. Der Administrator hat neben allen Möglichkeiten bzw. Aufgaben des Mitarbeiters darüber hinaus für die Personalverwaltung zu sorgen. Er kann die Geschäftsergebnisse und Bilanzen einsehen. Außerdem kann nur er das jährliche Gewinnspiel auslösen.

== Anforderungen

=== Muss-Kriterien
Folgende Funktionalitäten gilt es in den Internet-Dienst von "Emma" einzubauen:
Das Sortiment als Ansammlung verschiedener Produkte, die jeweils über ein Bild, Preis, Beschreibung und Bewerung verfügt. Es soll für Mitarbeiter die Möglichkeit bestehen, Produkte neu in das Sortiment einzufügen, zu verändern oder zu löschen.
Das Sortiment wird in einem Katalog aufbereitet, um die Übersicht für den Nutzer zu verbessern. So werden im Katalog Produkte durch Produktkategorien gebündelt.
Produkte können durch Kunden bewertet gekauft und ggf. reklamiert werden. Beim Kauf wird dem Kunde eine Bestätigungs-Mail zugesandt, die auch Produktinformationen enthält. Bei Reklamationen hat der Kunde einen Grund anzugeben.
Durch ein Rabattsystem erhält der Kunde durch jeden geworbenen Kunden Rabatt-Punkte, die er bei seinem Einkauf einsetzen kann.
Ein Gewinnspiel ermöglicht es den erfolgreichsten Werbern eine Kreuzfahrt zu gewinnen. 
Der Nachkauf von Produkten aus dem Lager erfolgt vom Mitarbeiter. Desweiteren sind Mitarbeiter in der Lage einen selbst verfassten Newsletter an Kunden zu verschicken.
Die Bilanzen können vom Admin eingesehen werden. Sie zeigen, wie viele Produkte zu welchem Preis aus dem Lager eingekauft und an Kunden verkauft wurden. Monatlich wird eine neue Bilanz erstellt.
Die Rollen: Gast, Kunde, Mitarbeiter und Admin besitzen verschiedene Zugriffsrechte auf Funktionalitäten.

=== Kann-Kriterien
Folgende Funktionalitäten können den Internetdienst von "Emma" zusätzlich versessern:
Bei Reklamation eines Produktes durch einen Kunden wird automatisch ein Lieferschein für die Rücksendung generiert.
Hinzu kommt, dass der Kunde eine anonyme Produktbewertung vornehmen kann.

== GUI Prototyp

=== Überblick: Dialoglandkarte
Erstellen Sie ein Übersichtsdiagramm, das das Zusammenspiel Ihrer Masken zur Laufzeit darstellt. Also mit welchen Aktionen zwischen den Masken navigiert wird. Die nachfolgende Abbildung zeigt eine an die Pinnwand gezeichnete Dialoglandkarte. Ihre Karte sollte zusätzlich die Buttons/Funktionen darstellen, mit deren Hilfe Sie zwischen den Masken navigieren.

=== Dialogbeschreibung
Für jeden Dialog:

1. Kurze textuelle Dialogbeschreibung eingefügt: Was soll der jeweilige Dialog? Was kann man damit tun? Überblick?
2. Maskenentwürfe (Screenshot, Mockup)
3. Maskenelemente (Ein/Ausgabefelder, Aktionen wie Buttons, Listen, …)
4. Evtl. Maskendetails, spezielle Widgets

== Datenmodell

=== Überblick: Klassendiagramm
UML-Analyseklassendiagramm

=== Klassen und Enumerationen
Dieser Abschnitt stellt eine Vereinigung von Glossar und der Beschreibung von Klassen/Enumerationen dar. Jede Klasse und Enumeration wird in Form eines Glossars textuell beschrieben. Zusätzlich werden eventuellen Konsistenz- und Formatierungsregeln aufgeführt.

// See http://asciidoctor.org/docs/user-manual/#tables
[options="header"]
|===
|Klasse/Enumeration |Beschreibung |
|…                  |…            |
|===

== Aktzeptanztestfälle
Mithilfe von Akzeptanztests wird geprüft, ob die Software die funktionalen Erwartungen und Anforderungen im Gebrauch erfüllt. Diese sollen und können aus den Anwendungsfallbeschreibungen und den UML-Sequenzdiagrammen abgeleitet werden. D.h., pro (komplexen) Anwendungsfall gibt es typischerweise mindestens ein Sequenzdiagramm (welches ein Szenarium beschreibt). Für jedes Szenarium sollte es einen Akzeptanztestfall geben. Listen Sie alle Akzeptanztestfälle in tabellarischer Form auf.
Jeder Testfall soll mit einer ID versehen werde, um später zwischen den Dokumenten (z.B. im Test-Plan) referenzieren zu können.

[options="header"]
|===
|ID|Szenario|Vorbedingung|Aktion|Nachbedingung
|1.1|Nutzer-Regristrierung|Der Besucher ist noch nicht eingeloggt|Der Nutzer gibt seine Daten ein und klickt "Registrieren"|Ein Nutzer Account wurde angelegt. Rückkehr zum Welcome-Screen.
|1.2|Nutzer-Regristrierung|Der Besucher ist noch nicht eingeloggt|Der Nutzer gibt unvollständige/bereits vorhandene Daten ein und klickt "Registrieren"|Es wird kein Account angelegt. Rückkehr zum Registrierungs-Screen.
|2.1|Login|Der Besucher ist noch nicht eingeloggt|Der Besucher gibt seine korrekten Daten in das Login-Formular ein und klickt "Login"|Der Besucher wird eingeloggt. Rückkehr zum Welcome-Sreen
|2.2|Login|Der Besucher ist noch nicht eingeloggt|Der Besucher gibt inkorrekte Daten in das Login-Formular ein und klickt "Login"|Der Besucher wird nicht eingeloggt. Rückkehr zum Login-Sreen
|2.3|Passwort vergessen|Der Besucher ist noch nicht eingeloggt|Username eingeben. "Passwort vergessen" klicken|	Passwort-Mail wird versendet
|3.1|Katalog|-|"Katalog"-Link klicken|Katalog wird angezeigt
|4.1|Artikelansicht|-|Artikel anklicken|Artikelseite wird angezeigt
|5.1|Warenkorb|Genug Artikel vorhanden|"Warenkorb hinzufügen-Button" wird geklickt|Der Artikel wird in den Warenkorb gelegt
|5.2|Warenkorb|nicht genug Artikel vorhanden|"Warenkorb hinzufügen-Button" wird geklickt|Fehlermeldung: Lieferung derzeit nicht möglich
|6.1|Artikel kaufen|Nutzer eingeloggt. Artikel im Warenkorb|"Kaufen"-Button klicken|Artikelmenge wird verringert. Nutzer erhält Bestätigungsmail. Verkauf in Bilanz
|7.1|Artikel bewerten/kommentieren|Nutzer eingeloggt. Noch keine Bewertung|Bewertung wird abgegeben|Bewertung wird Mitarbeiter zur Prüfung vorgelegt
|7.2|Artikel bewerten/kommentieren|Nutzer eingeloggt. Es wurde bereits eine Bewertung abgegeben|Bewertung wird abgegeben|Fehler: Nur eine Bewertung pro Kunde/Artikel
|8.1|Profildaten ändern|Nutzer eingeloggt|Nutzer gibt neue Daten ein|Neue Daten werden in die Kundenliste übernommen
|9.1|Lagerbestand einsehen|Mitarbeiter eingeloggt|Lager-Übersicht aufrufen|Der Lagerbestand wird aufgelistet
|10.1|Sortiment einkaufen|Mitarbeiter eingeloggt|Anzahl und Artikel auswählen und Nachbestellung abschicken|Der Lagerbestand erhöht sich. Der Einkauf wird in der Bilanz verbucht
|11.1|Katalog bearbeiten|Mitarbeiter eingeloggt|Formular mit Name, Beschreibung, Preis, Bild ausfüllen|Der Artikel erscheint im Katalog/Lager
|11.2|Katalog bearbeiten|Mitarbeiter eingeloggt|Formular unvollständig ausfüllen|Fehler: Fehlerhafte Artikelbeschreibung
|12.1|Bewertung ablehnen|Mitarbeiter eingeloggt|Nutzerkommentar wird per Button abgelehnt|Kommentar wird gelöscht
|13.1|Personal verwalten|Admin eingeloggt|Mitarbeiterliste einsehen. Mitarbeiter/Admin anlegen/löschen|Mitarbeiter/Admin wird gespeichert/gelöscht.
|13.2|Personal verwalten|Admin eingeloggt|Letzten Admin entfernen|Fehler: Ein Admin muss erhalten bleiben.
|14.1|Gewinnspiel|Admin eingeloggt|"Gewinnspiel auslösen" Button klicken|Die 10% besten Werber werden ausgegeben
|15.1|Kunden werben|Nutzer eingeloggt||
|16.1|Rabattsystem|Verkauf liegt 30 Tage zurück|Rabattabrechnung |5% der Einkaufsumme der geworbenen Kunden wurden gutgeschrieben
|16.2|Rabattsystem|Nutzer eingeloggt. Rabatt vorhanden|Nutzer kauft Artikel|Einkaufspreis wird um Rabatt (höchstens 20%) verringert
|===
== Offene Punkte
Offene Punkte werden entweder direkt in der Spezifikation notiert. Wenn das Pflichtenheft  zum finalen Review vorgelegt wird, sollte es keine offenen Punkte mehr geben.
